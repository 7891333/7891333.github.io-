ï¼doctypeï¼doctypeï¼doctypeï¼doctype>è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€>
è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€< æœ—=>"zh-CN"
>å¤´<
å…ƒ< å­—ç¬¦é›†=>"UTF-8"
>æ ‡é¢˜<ç²‰ä¸æ’è¡Œæ¦œ>æ ‡é¢˜</
å…ƒ< å§“å="è§†å£" å†…å®¹=>"å®½åº¦=è®¾å¤‡å®½åº¦ï¼Œåˆå§‹æ¯”ä¾‹=1ï¼Œç”¨æˆ·å¯ç¼©æ”¾=å¦"
>é£æ ¼<
ï¼šæ ¹{
--bgï¼š#f1f2f3ï¼›
--CARDï¼š#ffffff99ï¼›
--æ¨¡ç³Šï¼š20pxï¼›
--é˜´å½±ï¼š08px32px rgba(0,0,0,.08);
--çº¢è‰²ï¼š#ff3b30ï¼›
--æ–‡æœ¬ï¼š#000ï¼›
--subï¼š#8e8e93ï¼›
}
*{
æ¡†å¤§å°ï¼šè¾¹æ¡†æ¡†ï¼›
é¡µè¾¹è·ï¼š0ï¼›
å¡«å……ï¼š0ï¼›
-webkit-tap-highlight-colorï¼šé€æ˜ï¼›
}
èº«ä½“{
font-familyï¼š-apple-systemï¼ŒBlinkMacSystemFontï¼Œ"Helvetica Neue"ï¼ŒHelvetica"ï¼Œ"å¤æ–¹SC"ï¼Œ"å¹³åœ°æ— GB"ï¼Œæ— è¡¬çº¿ï¼›
èƒŒæ™¯ï¼švar(-bg)ï¼›
é¢œè‰²ï¼švar(--text)ï¼›
å¡«æ–™ï¼š20px15pxï¼›
æœ€ä½é«˜åº¦ï¼š100vhï¼›
}
H1{
font-size:28pxï¼›
font-weight:600ï¼›
æ–‡æœ¬å¯¹é½ï¼šå±…ä¸­ï¼›
åº•è¾¹è·ï¼š25pxï¼›
å­—æ¯é—´è·ï¼š.5pxï¼›
}
.refresh{
æ˜¾ç¤ºï¼šå—ï¼›
é¡µè¾¹è·ï¼š0è‡ªåŠ¨20pxï¼›
è¾¹æ¡†ï¼šæ— ï¼›
èƒŒæ™¯ï¼švar(--CARD)ï¼›
èƒŒæ™¯è¿‡æ»¤å™¨ï¼šæ¨¡ç³Š(var(-blur))ï¼›
-webkit-backdrop-filter:blur(var(--blur))ï¼›
box-shadow:var(--shadow)ï¼›
è¾¹ç•ŒåŠå¾„ï¼š12pxï¼›
å¡«æ–™ï¼š10px20pxï¼›
å­—ä½“å¤§å°ï¼š16pxï¼›
font-weight:500ï¼›
é¢œè‰²ï¼švar(--text)ï¼›
}
.list{
æœ€å¤§å®½åº¦ï¼š400pxï¼›
é¡µè¾¹è·ï¼š0è‡ªåŠ¨ï¼›
}
.item{
æ˜¾ç¤ºï¼šæŸ”æ€§ï¼›
å¯¹é½é¡¹ï¼šå±…ä¸­ï¼›
èƒŒæ™¯ï¼švar(--CARD)ï¼›
èƒŒæ™¯è¿‡æ»¤å™¨ï¼šæ¨¡ç³Š(var(-Blur))ï¼›
-webkit-backdrop-filter:blur(var(--blur))ï¼›
box-shadow:var(--shadow)ï¼›
è¾¹ç•ŒåŠå¾„ï¼š16pxï¼›
  padding:16px 20px;
  margin-bottom:12px;
  opacity:0;
  transform:translateY(20px);
  animation:fadeIn .5s forwards;
}
.item:nth-child(1){animation-delay:.05s}
.item:nth-child(2){animation-delay:.10s}
.item:nth-child(3){animation-delay:.15s}
.item:nth-child(4){animation-delay:.20s}
.item:nth-child(5){animation-delay:.25s}
@keyframes fadeIn{
  to{opacity:1;transform:translateY(0)}
}
.rank{
  font-size:22px;font-weight:700;width:36px;text-align:left;color:var(--sub);
}
.info{flex:1;margin-left:12px}
.name{font-size:17px;font-weight:500}
.num{font-size:13px;color:var(--sub);margin-top:2px}
.num span+span{margin-left:10px}
.error{
  text-align:center;
  padding:40px 20px;
  color:var(--red);
  font-size:15px;
}
</style>
</head>
<body>
<h1>ç²‰ä¸æ’è¡Œæ¦œ</h1>
<button class="refresh" onclick="loadData()">ğŸ”„ åˆ·æ–°</button>
<div id="list" class="list"></div>

<script>
/* è¿œç«¯æ–‡æœ¬åœ°å€ */
const API = 'https://qght.xyz/fileecho.php?user=7891333&file=' +
            encodeURIComponent('äº‘ç«¯.txt');

function log(...args){ console.log(...args); }

function parseRank(text){
  // æ¸…æ´— HTML æ ‡ç­¾ & åˆå¹¶æ¢è¡Œ
  let txt   = text.replace(/<[^>]+>/g, '\n');
  txt       = txt.replace(/\n+/g, '\n').trim();
  const lines = txt.split('\n').filter(l => l.trim());

  const data = [];
  lines.forEach((l, idx) => {
    const parts = l.split(',').map(p => p.trim());
    if (parts.length !== 3) {
      log(`[æ ¼å¼é”™è¯¯] ç¬¬${idx+1}è¡Œå­—æ®µæ•°=${parts.length} å†…å®¹=${l}`);
      return;
    }
    const [name, fans, follow] = parts;
    const f = parseInt(fans, 10);
    const w = parseInt(follow, 10);
    if (isNaN(f) || isNaN(w)) {
      log(`[æ•°å­—è½¬æ¢é”™è¯¯] ç¬¬${idx+1}è¡Œ å†…å®¹=${l}`);
      return;
    }
    data.push({name, fans: f, follow: w});
  });
  return data.sort((a, b) => b.fans - a.fans);
}

async function loadData(){
  const listBox = document.getElementById('list');
  listBox.innerHTML = '<div class=error>åŠ è½½ä¸­â€¦</div>';
  try {
    const res  = await fetch(API);
    if (!res.ok) throw new Error('ç½‘ç»œé”™è¯¯ ' + res.status);
    const text = await res.text();
    const arr  = parseRank(text);
    if (!arr.length) throw new Error('æš‚æ— æ•°æ®');
    listBox.innerHTML = arr.map((u, i) => `
      <div class=item>
        <div class=rank>${i+1}</div>
        <div class=info>
          <div class=name>${u.name}</div>
          <div class=num>
            <span>ç²‰ä¸ ${u.fans}</span>
            <span>å…³æ³¨ ${u.follow}</span>
          </div>
        </div>
      </div>`).join('');
  } catch (e) {
    listBox.innerHTML = `<div class=error>âŒ ${e.message}<br><small>ç‚¹ä¸Šæ–¹æŒ‰é’®é‡è¯•</small></div>`;
  }
}

/* é¦–æ¬¡è‡ªåŠ¨åŠ è½½ */
loadData();
</script>
</body>
</html>
